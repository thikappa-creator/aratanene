<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ねね & あらた ギャラリー</title>
  <style>
    body{margin:0;background:#000;color:#fff;
         font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,
         "Hiragino Kaku Gothic ProN","Hiragino Sans","Noto Sans JP",
         "Yu Gothic",Meiryo,Arial,sans-serif;text-align:center}
    h1{font-size:22px;margin:16px 0}
    #stage{position:relative;max-width:92vw;height:min(72vh,700px);margin:10px auto;
           overflow:hidden;display:grid;place-items:center}
    #stage img{max-width:100%;max-height:100%;object-fit:contain;
               border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.5)}
    #controls{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin:10px}
    button,label.btn{padding:10px 14px;border-radius:10px;border:1px solid #333;
                     background:#111;color:#fff;cursor:pointer}
    .ken{animation:ken 6000ms linear both;transform-origin:center}
    @keyframes ken{from{transform:scale(1)}to{transform:scale(1.08) translate(1.5%,-1.5%)}}
    .note{color:#bbb;margin:8px 0 20px}
  </style>
</head>
<body>
  <h1>ねね & あらた ギャラリー</h1>

  <div id="stage"><img id="photo" alt="photo"></div>

  <div id="controls">
    <button onclick="prev()">⏮ 前へ</button>
    <button onclick="toggle()">▶ 再生</button>
    <button onclick="next()">次へ ⏭</button>
    <button onclick="ken()">🎥 Ken Burns</button>
    <label class="btn">🎵 BGM選択<input type="file" id="bgmfile" accept="audio/*" style="display:none"></label>
    <button onclick="bgmToggle()">🔊 再生/停止</button>
  </div>

  <p class="note">※ 画像ファイル名は <strong>大文字・小文字を完全一致</strong>で指定してください（例：<code>DSC_1149.JPG</code>）。</p>

  <audio id="bgm" loop></audio>

  <script>
    // ▼ここをあなたの実ファイル名に置き換える（リポジトリ直下に置く）
    const files = [
      "DSC_1149.JPG"
      // "IMG_0018.jpg", "IMG_0027.jpg", … 追加
    ];

    let i=0, timer=null, kb=false;
    const img=document.getElementById('photo');
    function show(){ img.classList.remove('ken'); img.src = files[i]; if(kb){ void img.offsetWidth; img.classList.add('ken'); } }
    function next(){ i=(i+1)%files.length; show(); }
    function prev(){ i=(i-1+files.length)%files.length; show(); }
    function toggle(){ const b=event.target; if(timer){ clearInterval(timer); timer=null; b.textContent="▶ 再生"; } else { timer=setInterval(next,4000); b.textContent="⏸ 停止"; } }
    function ken(){ kb=!kb; show(); }
    const bgm=document.getElementById('bgm');
    document.getElementById('bgmfile').addEventListener('change', e=>{ const f=e.target.files[0]; if(f) bgm.src=URL.createObjectURL(f); });
    function bgmToggle(){ if(bgm.paused) bgm.play(); else bgm.pause(); }
    show();
  </script>
</body>
</html>
