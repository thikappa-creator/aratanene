<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ã­ã­ & ã‚ã‚‰ãŸ ã‚®ãƒ£ãƒ©ãƒªãƒ¼</title>
  <style>
    body{margin:0;background:#000;color:#fff;
         font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,
         "Hiragino Kaku Gothic ProN","Hiragino Sans","Noto Sans JP",
         "Yu Gothic",Meiryo,Arial,sans-serif;text-align:center}
    h1{font-size:22px;margin:16px 0}
    #stage{position:relative;max-width:92vw;height:min(72vh,700px);margin:10px auto;
           overflow:hidden;display:grid;place-items:center}
    #stage img{max-width:100%;max-height:100%;object-fit:contain;
               border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.5)}
    #controls{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin:10px}
    button,label.btn{padding:10px 14px;border-radius:10px;border:1px solid #333;
                     background:#111;color:#fff;cursor:pointer}
    .ken{animation:ken 6000ms linear both;transform-origin:center}
    @keyframes ken{from{transform:scale(1)}to{transform:scale(1.08) translate(1.5%,-1.5%)}}
    .note{color:#bbb;margin:8px 0 20px}
  </style>
</head>
<body>
  <h1>ã­ã­ & ã‚ã‚‰ãŸ ã‚®ãƒ£ãƒ©ãƒªãƒ¼</h1>

  <div id="stage"><img id="photo" alt="photo"></div>

  <div id="controls">
    <button onclick="prev()">â® å‰ã¸</button>
    <button onclick="toggle()">â–¶ å†ç”Ÿ</button>
    <button onclick="next()">æ¬¡ã¸ â­</button>
    <button onclick="ken()">ğŸ¥ Ken Burns</button>
    <label class="btn">ğŸµ BGMé¸æŠ<input type="file" id="bgmfile" accept="audio/*" style="display:none"></label>
    <button onclick="bgmToggle()">ğŸ”Š å†ç”Ÿ/åœæ­¢</button>
  </div>

  <p class="note">â€» ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«åã¯ <strong>å¤§æ–‡å­—ãƒ»å°æ–‡å­—ã‚’å®Œå…¨ä¸€è‡´</strong>ã§æŒ‡å®šã—ã¦ãã ã•ã„ï¼ˆä¾‹ï¼š<code>DSC_1149.JPG</code>ï¼‰ã€‚</p>

  <audio id="bgm" loop></audio>

  <script>
    // â–¼ã“ã“ã‚’ã‚ãªãŸã®å®Ÿãƒ•ã‚¡ã‚¤ãƒ«åã«ç½®ãæ›ãˆã‚‹ï¼ˆãƒªãƒã‚¸ãƒˆãƒªç›´ä¸‹ã«ç½®ãï¼‰
    const files = [
      "DSC_1149.JPG"
      // "IMG_0018.jpg", "IMG_0027.jpg", â€¦ è¿½åŠ 
    ];

    let i=0, timer=null, kb=false;
    const img=document.getElementById('photo');
    function show(){ img.classList.remove('ken'); img.src = files[i]; if(kb){ void img.offsetWidth; img.classList.add('ken'); } }
    function next(){ i=(i+1)%files.length; show(); }
    function prev(){ i=(i-1+files.length)%files.length; show(); }
    function toggle(){ const b=event.target; if(timer){ clearInterval(timer); timer=null; b.textContent="â–¶ å†ç”Ÿ"; } else { timer=setInterval(next,4000); b.textContent="â¸ åœæ­¢"; } }
    function ken(){ kb=!kb; show(); }
    const bgm=document.getElementById('bgm');
    document.getElementById('bgmfile').addEventListener('change', e=>{ const f=e.target.files[0]; if(f) bgm.src=URL.createObjectURL(f); });
    function bgmToggle(){ if(bgm.paused) bgm.play(); else bgm.pause(); }
    show();
  </script>
</body>
</html>
