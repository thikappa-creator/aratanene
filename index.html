<!doctype html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ã­ã­ & ã‚ã‚‰ãŸ ã‹ã‚ã„ã•å¤§å…¨</title>
<style>
  :root{--ink:#0f172a;--muted:#6b7280;--accent:#ff69b4}
  html,body{margin:0;height:100%}
  body{
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN","Hiragino Sans","Noto Sans JP","Yu Gothic",Meiryo,Arial,sans-serif;
    color:#fff; background:#000; display:grid; grid-template-rows:auto 1fr auto; min-height:100dvh;
  }
  header{
    text-align:center; padding:14px 10px;
    background:linear-gradient(270deg,#201f2a,#1a1f35,#1a1528);
  }
  h1{margin:6px 0 2px; font-size:clamp(22px,4vw,34px); color:#fff}
  .tagline{color:#cbd5e1; font-size:clamp(12px,2.4vw,15px)}
  /* stage */
  #stage{display:grid; place-items:center; overflow:hidden; padding:10px}
  #photo{
    max-width:min(94vw,1200px);
    max-height:min(74vh,820px);
    height:auto; object-fit:contain;
    border-radius:14px; box-shadow:0 10px 28px rgba(0,0,0,.45);
    background:#111;
  }
  /* controls */
  #controls{display:flex; flex-wrap:wrap; gap:10px; justify-content:center; padding:12px}
  button,label.btn{
    padding:10px 14px; border-radius:12px; border:1px solid #2a2a2a;
    background:#121212; color:#fff; cursor:pointer; font-size:14px;
  }
  button.primary{background:#1c1c1c; border-color:#444}
  .caption{color:#e5e7eb; text-align:center; margin-top:8px; font-size:14px}
  .praise{
    text-align:center; color:#ffe; margin:6px 0 0;
    font-size:clamp(14px,2.8vw,18px)
  }
  /* ken burns */
  .ken{animation:ken 6000ms linear both; transform-origin:center}
  @keyframes ken{
    from{transform:scale(1)}
    to{transform:scale(1.08) translate(1.5%,-1.5%)}
  }
  footer{color:#94a3b8; font-size:12px; text-align:center; padding:12px}
  a{color:#9ae6b4}
</style>
</head>
<body>

<header>
  <h1>ã­ã­ & ã‚ã‚‰ãŸ ã‹ã‚ã„ã•å¤§å…¨ ğŸ’–</h1>
  <div class="tagline">ç¬‘é¡”ã¯å¤ªé™½ã€ã—ãã•ã¯å°é³¥ã€‚ã„ã‚‹ã ã‘ã§ä¸–ç•ŒãŒæ˜ã‚‹ããªã‚‹ï¼</div>
</header>

<div id="stage">
  <img id="photo" alt="gallery">
  <div class="caption" id="cap"></div>
  <div class="praise" id="praise"></div>
</div>

<div id="controls">
  <button onclick="prev()">â® å‰ã¸</button>
  <button class="primary" onclick="toggle()">â–¶ è‡ªå‹•å†ç”Ÿ</button>
  <button onclick="next()">æ¬¡ã¸ â­</button>
  <button onclick="ken()">ğŸ¥ Ken Burns</button>
  <button onclick="shuffle()">ğŸ”€ ã‚·ãƒ£ãƒƒãƒ•ãƒ«</button>
  <label class="btn">ğŸµ BGMé¸æŠ<input type="file" id="bgmfile" accept="audio/*" style="display:none"></label>
  <button onclick="bgmToggle()">ğŸ”Š å†ç”Ÿ/åœæ­¢</button>
</div>

<audio id="bgm" loop></audio>

<footer>ç”»åƒã¯ãƒªãƒã‚¸ãƒˆãƒªç›´ä¸‹ã«ç½®ã„ã¦ã„ã¾ã™ï¼ˆæ‹¡å¼µå­ãƒ»å¤§æ–‡å­—å°æ–‡å­—ã‚’å®Œå…¨ä¸€è‡´ã§æŒ‡å®šï¼‰ã€‚</footer>

<script>
/* â–¼ã„ã¾ã®ãƒªãƒã‚¸ãƒˆãƒªã«ã‚ã‚‹JPGåã§åˆæœŸã‚»ãƒƒãƒˆï¼ˆå¿…è¦ã«å¿œã˜ã¦å¢—æ¸›OKï¼‰ */
const files = [
  "IMG_4600.jpg",
  "IMG_5347.jpg",
  "IMG_5351.jpg",
  "IMG_5813.jpg",
  "IMG_7773.jpg",
  "IMG_7828.jpg",
  "IMG_8364.jpg",
  "IMG_8438.jpg",
  // æ—¢å­˜ã®JPGã‚‚å…¥ã‚Œã‚‹å ´åˆã¯ä¸‹ã‚’ã‚¢ãƒ³ã‚³ãƒ¡ãƒ³ãƒˆ
  // "DSC_1149.JPG",
  // "in_20250612_1518.jpg",
  // "in_20241017_1434.jpg",
];

/* ã‹ã‚ã„ã•è³›è¾ï¼ˆãƒ©ãƒ³ãƒ€ãƒ è¡¨ç¤ºï¼‰ */
const praises = [
  "ãã‚‡ã†ã®ãƒ™ã‚¹ãƒˆç¬‘é¡”ã€å®Œå…¨å„ªå‹ï¼ğŸ†",
  "ã¾ã°ãŸãç¦æ­¢ãƒ¬ãƒ™ãƒ«ã®å¯æ„›ã•ğŸ˜³",
  "å¤©ä½¿ãŒ2äººã§ã‚ºãƒ«ã„â€¦ğŸ‘¼ğŸ‘¼",
  "ãã®ä»•è‰ã€ä¸–ç•Œè¨˜éŒ²æ›´æ–°ã§ã™ğŸ“¸",
  "ãƒãƒ¼ãƒˆã‚’ä½•å€‹ã§ã‚‚æŒã£ã¦ã„ã£ã¦ğŸ’˜",
  "å°Šã„ä»¥å¤–ã®è¨€è‘‰ãŒè¦‹ã¤ã‹ã‚‰ãªã„â€¦âœ¨"
];

/* ç”»åƒã”ã¨ã®ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ï¼ˆä»»æ„ï¼‰ */
const captions = {
  "IMG_4600.jpg": "ãŠã¾ã¾ã”ã¨ã§ã”æ©Ÿå«Œãªã²ã¨ã¨ã",
  "IMG_5347.jpg": "ãƒŠã‚¤ã‚¹ã‚¹ãƒã‚¤ãƒ«ï¼",
  "IMG_5351.jpg": "å¤¢ä¸­ã«ãªã£ã¦ã‚‹æ¨ªé¡”ãŒæœ€é«˜",
  "IMG_5813.jpg": "ç¬‘ã£ã¦ã‚‹ã ã‘ã§å‘¨ã‚ŠãŒæ˜ã‚‹ã„",
  "IMG_7773.jpg": "å…ƒæ°—ãŒã‚ãµã‚Œã¦æ­¢ã¾ã‚‰ãªã„ï¼",
  "IMG_7828.jpg": "ãŠå‡ºã‹ã‘æ—¥å’Œã®æ€ã„å‡º",
  "IMG_8364.jpg": "ã‚­ãƒ¡é¡”100ç‚¹ğŸ’¯",
  "IMG_8438.jpg": "ã¡ã‚‡ã£ã¨å¾—æ„ã’ã€ãŒã¾ãŸå¯æ„›ã„"
  // è¿½åŠ ã—ãŸã‚‰ "ãƒ•ã‚¡ã‚¤ãƒ«å": "èª¬æ˜", ã‚’å¢—ã‚„ã™
};

let i = 0, timer = null, kb = false;
const img = document.getElementById('photo');
const cap = document.getElementById('cap');
const praise = document.getElementById('praise');

function show(){
  img.classList.remove('ken');
  img.onerror = () => { cap.textContent = "ç”»åƒãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ï¼š" + files[i]; };
  img.src = files[i];
  cap.textContent = captions[files[i]] || "";
  praise.textContent = praises[Math.floor(Math.random()*praises.length)];
  if (kb) { void img.offsetWidth; img.classList.add('ken'); }
}
function next(){ i = (i+1) % files.length; show(); }
function prev(){ i = (i-1+files.length) % files.length; show(); }
function toggle(){
  const b = event.target;
  if (timer) { clearInterval(timer); timer = null; b.textContent = "â–¶ è‡ªå‹•å†ç”Ÿ"; }
  else { timer = setInterval(next, 4000); b.textContent = "â¸ åœæ­¢"; }
}
function ken(){ kb = !kb; show(); }
function shuffle(){
  for (let j = files.length - 1; j > 0; j--) {
    const r = Math.floor(Math.random() * (j + 1));
    [files[j], files[r]] = [files[r], files[j]];
  }
  i = 0; show();
}

/* BGM */
const bgm = document.getElementById('bgm');
document.getElementById('bgmfile').addEventListener('change', e=>{
  const f = e.target.files[0]; if (f) bgm.src = URL.createObjectURL(f);
});
function bgmToggle(){ if (bgm.paused) bgm.play(); else bgm.pause(); }

/* åˆæœŸè¡¨ç¤º */
show();
</script>
</body>
</html>
