<!doctype html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ねね & あらた かわいさ大全</title>
<style>
  :root{--ink:#0f172a;--muted:#6b7280;--accent:#ff69b4}
  html,body{margin:0;height:100%}
  body{
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN","Hiragino Sans","Noto Sans JP","Yu Gothic",Meiryo,Arial,sans-serif;
    color:#fff; background:#000; display:grid; grid-template-rows:auto 1fr auto; min-height:100dvh;
  }
  header{
    text-align:center; padding:14px 10px;
    background:linear-gradient(270deg,#201f2a,#1a1f35,#1a1528);
  }
  h1{margin:6px 0 2px; font-size:clamp(22px,4vw,34px); color:#fff}
  .tagline{color:#cbd5e1; font-size:clamp(12px,2.4vw,15px)}
  /* stage */
  #stage{display:grid; place-items:center; overflow:hidden; padding:10px}
  #photo{
    max-width:min(94vw,1200px);
    max-height:min(74vh,820px);
    height:auto; object-fit:contain;
    border-radius:14px; box-shadow:0 10px 28px rgba(0,0,0,.45);
    background:#111;
  }
  /* controls */
  #controls{display:flex; flex-wrap:wrap; gap:10px; justify-content:center; padding:12px}
  button,label.btn{
    padding:10px 14px; border-radius:12px; border:1px solid #2a2a2a;
    background:#121212; color:#fff; cursor:pointer; font-size:14px;
  }
  button.primary{background:#1c1c1c; border-color:#444}
  .caption{color:#e5e7eb; text-align:center; margin-top:8px; font-size:14px}
  .praise{
    text-align:center; color:#ffe; margin:6px 0 0;
    font-size:clamp(14px,2.8vw,18px)
  }
  /* ken burns */
  .ken{animation:ken 6000ms linear both; transform-origin:center}
  @keyframes ken{
    from{transform:scale(1)}
    to{transform:scale(1.08) translate(1.5%,-1.5%)}
  }
  footer{color:#94a3b8; font-size:12px; text-align:center; padding:12px}
  a{color:#9ae6b4}
</style>
</head>
<body>

<header>
  <h1>ねね & あらた かわいさ大全 💖</h1>
  <div class="tagline">笑顔は太陽、しぐさは小鳥。いるだけで世界が明るくなる！</div>
</header>

<div id="stage">
  <img id="photo" alt="gallery">
  <div class="caption" id="cap"></div>
  <div class="praise" id="praise"></div>
</div>

<div id="controls">
  <button onclick="prev()">⏮ 前へ</button>
  <button class="primary" onclick="toggle()">▶ 自動再生</button>
  <button onclick="next()">次へ ⏭</button>
  <button onclick="ken()">🎥 Ken Burns</button>
  <button onclick="shuffle()">🔀 シャッフル</button>
  <label class="btn">🎵 BGM選択<input type="file" id="bgmfile" accept="audio/*" style="display:none"></label>
  <button onclick="bgmToggle()">🔊 再生/停止</button>
</div>

<audio id="bgm" loop></audio>

<footer>画像はリポジトリ直下に置いています（拡張子・大文字小文字を完全一致で指定）。</footer>

<script>
/* ▼いまのリポジトリにあるJPG名で初期セット（必要に応じて増減OK） */
const files = [
  "IMG_4600.jpg",
  "IMG_5347.jpg",
  "IMG_5351.jpg",
  "IMG_5813.jpg",
  "IMG_7773.jpg",
  "IMG_7828.jpg",
  "IMG_8364.jpg",
  "IMG_8438.jpg",
  // 既存のJPGも入れる場合は下をアンコメント
  // "DSC_1149.JPG",
  // "in_20250612_1518.jpg",
  // "in_20241017_1434.jpg",
];

/* かわいさ賛辞（ランダム表示） */
const praises = [
  "きょうのベスト笑顔、完全優勝！🏆",
  "まばたき禁止レベルの可愛さ😳",
  "天使が2人でズルい…👼👼",
  "その仕草、世界記録更新です📸",
  "ハートを何個でも持っていって💘",
  "尊い以外の言葉が見つからない…✨"
];

/* 画像ごとのキャプション（任意） */
const captions = {
  "IMG_4600.jpg": "おままごとでご機嫌なひととき",
  "IMG_5347.jpg": "ナイススマイル！",
  "IMG_5351.jpg": "夢中になってる横顔が最高",
  "IMG_5813.jpg": "笑ってるだけで周りが明るい",
  "IMG_7773.jpg": "元気があふれて止まらない！",
  "IMG_7828.jpg": "お出かけ日和の思い出",
  "IMG_8364.jpg": "キメ顔100点💯",
  "IMG_8438.jpg": "ちょっと得意げ、がまた可愛い"
  // 追加したら "ファイル名": "説明", を増やす
};

let i = 0, timer = null, kb = false;
const img = document.getElementById('photo');
const cap = document.getElementById('cap');
const praise = document.getElementById('praise');

function show(){
  img.classList.remove('ken');
  img.onerror = () => { cap.textContent = "画像が見つかりません：" + files[i]; };
  img.src = files[i];
  cap.textContent = captions[files[i]] || "";
  praise.textContent = praises[Math.floor(Math.random()*praises.length)];
  if (kb) { void img.offsetWidth; img.classList.add('ken'); }
}
function next(){ i = (i+1) % files.length; show(); }
function prev(){ i = (i-1+files.length) % files.length; show(); }
function toggle(){
  const b = event.target;
  if (timer) { clearInterval(timer); timer = null; b.textContent = "▶ 自動再生"; }
  else { timer = setInterval(next, 4000); b.textContent = "⏸ 停止"; }
}
function ken(){ kb = !kb; show(); }
function shuffle(){
  for (let j = files.length - 1; j > 0; j--) {
    const r = Math.floor(Math.random() * (j + 1));
    [files[j], files[r]] = [files[r], files[j]];
  }
  i = 0; show();
}

/* BGM */
const bgm = document.getElementById('bgm');
document.getElementById('bgmfile').addEventListener('change', e=>{
  const f = e.target.files[0]; if (f) bgm.src = URL.createObjectURL(f);
});
function bgmToggle(){ if (bgm.paused) bgm.play(); else bgm.pause(); }

/* 初期表示 */
show();
</script>
</body>
</html>
